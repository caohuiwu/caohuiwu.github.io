---
title: 泛型
date: 2020-05-15 21:38:56
tags:
categories:
  - [java]
---
# 一、什么是泛型
什么是泛型，泛型的实现方式，泛型的问题
# 二、泛型
JDK1.5带入的新特性，提供了编译时类型安全检测机制。  
编译期间就可以进行类型的检测，防止运行时出现问题。  

# 三、使用方式
```
List<Integer> list = new ArrayList<>();

list.add(12);
//这里直接添加会报错
list.add("a");
Class<? extends List> clazz = list.getClass();
Method add = clazz.getDeclaredMethod("add", Object.class);
//但是通过反射添加，是可以的
add.invoke(list, "kl");

System.out.println(list)
```
T，E，K，V，？等来表示泛型   
泛型类、泛型接口、泛型方法
<!--more-->  
# 四、实现方式
**类型擦除：**在编译期间，所有的类型信息都将擦除。
```
public class Test {
    public static void main(String[] args) {
        ArrayList<String> list1 = new ArrayList<String>();
        list1.add("abc");
        ArrayList<Integer> list2 = new ArrayList<Integer>();
        list2.add(123);
        System.out.println(list1.getClass() == list2.getClass());
    }
}
```
程序输出结果：true   
**说明：** 类型擦除后，list1和list2在jvm中的数据类型是一致的，String和integer都被擦除了，保留了原始类型。

* 原始类型：类型擦除后，最后在字节码中类型变量的真正类型。
* 类型擦除，并使用其限定类型（无限定类型的用Object）替换。


[参考](https://www.cnblogs.com/wuqinglong/p/9456193.html)